import{r as u,at as x,j as s,av as h,B as j}from"./index-a73d646c.js";import{z as a,S as b,I as m,C as w}from"./CustomLink-5e0d8361.js";import{E as S}from"./ErrorMessage-b5477403.js";import{F as f}from"./Form-70272b58.js";import"./TextField-0729200f.js";const I={email:"",password:""},v=a.object({email:a.string().trim().min(1,{message:"Field can not be empty"}).email({message:"Invalid email address"}),password:a.string().trim().min(1,{message:"Field can not be empty"}).min(6,{message:"Password must be at least 6 characters"}).max(20,{message:"Password must be less than 20 characters"})}),y=()=>{const[c,t]=u.useState(""),r=x();async function l(d){var n,o,i;const{email:g,password:p}=d;t("");try{const e=await h.signIn(g,p);e!=null&&e.isComplete?r({to:"/"}):r({to:"/account/edit"})}catch(e){t((i=(o=(n=e.response)==null?void 0:n.data)==null?void 0:o.errors[0])==null?void 0:i.message)}}return s.jsx(s.Fragment,{children:s.jsxs(f,{schema:v,defaultValues:I,submit:l,submitButton:s.jsx(b,{}),children:[s.jsx(m,{name:"email",label:"Email",type:"email"}),s.jsx(m,{name:"password",label:"Password",type:"password"}),s.jsx(S,{message:c})]})})},M=()=>s.jsxs(j,{component:"article",sx:{maxWidth:"25rem",mx:"auto",p:"1rem"},children:[s.jsx("h1",{children:"Sign In"}),s.jsx(y,{}),s.jsxs("p",{children:["Don't have an account?"," ",s.jsx(w,{to:"/registration",children:"Registration"})]})]});export{M as default};
