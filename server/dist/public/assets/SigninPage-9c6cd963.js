import{r as p,au as x,j as s,aw as h,av as j,B as w}from"./index-fc2bed8b.js";import{z as a,S as b,I as r,C as S}from"./CustomLink-dfbfca31.js";import{F as f,E as v}from"./Form-805ace3e.js";import"./TextField-67bdb7ae.js";const I={email:"",password:""},E=a.object({email:a.string().trim().min(1,{message:"Field can not be empty"}).email({message:"Invalid email address"}),password:a.string().trim().min(1,{message:"Field can not be empty"}).min(6,{message:"Password must be at least 6 characters"}).max(20,{message:"Password must be less than 20 characters"})}),F=()=>{const[i,t]=p.useState(""),n=x();async function o(m){const{email:c,password:l}=m;t("");const u=await h.signIn(c,l),{success:g,message:d}=u;if(!g){t(d);return}const e=await j.getAccount();e!=null&&e.isComplete?n({to:"/"}):n({to:"/account/edit"})}return s.jsx(s.Fragment,{children:s.jsxs(f,{schema:E,defaultValues:I,submit:o,submitButton:s.jsx(b,{}),children:[s.jsx(r,{name:"email",label:"Email",type:"email"}),s.jsx(r,{name:"password",label:"Password",type:"password"}),s.jsx(v,{message:i})]})})},M=()=>s.jsxs(w,{component:"article",sx:{maxWidth:"25rem",mx:"auto",p:"1rem"},children:[s.jsx("h1",{children:"Sign In"}),s.jsx(F,{}),s.jsxs("p",{children:["Don't have an account?"," ",s.jsx(S,{to:"/registration",children:"Registration"})]})]});export{M as default};
