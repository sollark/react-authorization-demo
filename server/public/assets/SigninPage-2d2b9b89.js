import{r as p,aw as x,j as s,ax as h,B as j}from"./index-94c5a148.js";import{z as a,S as w,I as n,C as b}from"./CustomLink-e5f67753.js";import{a as S}from"./account.service-08bb5e77.js";import{F as f,E as I}from"./Form-108ebbb6.js";import"./TextField-5daeca9c.js";const v={email:"",password:""},E=a.object({email:a.string().trim().min(1,{message:"Field can not be empty"}).email({message:"Invalid email address"}),password:a.string().trim().min(1,{message:"Field can not be empty"}).min(6,{message:"Password must be at least 6 characters"}).max(20,{message:"Password must be less than 20 characters"})}),F=()=>{const[i,t]=p.useState(""),r=x();async function o(m){const{email:c,password:l}=m;t("");const u=await h.signIn(c,l),{success:g,message:d}=u;if(!g){t(d);return}const e=await S.getAccount();e!=null&&e.isComplete?r({to:"/"}):r({to:"/account/edit"})}return s.jsx(s.Fragment,{children:s.jsxs(f,{schema:E,defaultValues:v,submit:o,submitButton:s.jsx(w,{}),children:[s.jsx(n,{name:"email",label:"Email",type:"email"}),s.jsx(n,{name:"password",label:"Password",type:"password"}),s.jsx(I,{message:i})]})})},R=()=>s.jsxs(j,{component:"article",sx:{maxWidth:"25rem",mx:"auto",p:"1rem"},children:[s.jsx("h1",{children:"Sign In"}),s.jsx(F,{}),s.jsxs("p",{children:["Don't have an account?"," ",s.jsx(b,{to:"/registration",children:"Registration"})]})]});export{R as default};
